@using ClickNClaim.WebPortal.Resources
@using ClickNClaim.WebPortal.Extensions
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@section CSS{
    @RenderSection("CSS", required: false)
}
<div class="container" style="height:140px;margin:0 auto;padding:0">
    <div class="container process-header">
        <div class="card margin-bottom-small" style="margin-top:20px">
            <div class="row last-row">
                <div class="col s2" style="min-width:82px">
                    <h5 style="margin-top:22px">@Shared.Steps: </h5>
                </div>
                <div class="col s10 ">
                    @{

                    if (ViewBag.conflictId != null && ClickNClaim.Business.BLLConflicts.GetConflictInstigator(ViewBag.conflictId) == User.Identity.GetId())
                    {

                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Identification")" class="stepper-link" id="identification-nav">
                                <p>@Shared.Identification</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">1</p>
                                        </div>
                                    </div>
                                </div>

                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Declaration")" class="stepper-link" id="declaration-nav">
                                <p>@Shared.MyDeclaration</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">2</p>
                                        </div>
                                    </div>
                                </div>

                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Timeline")" class="stepper-link" id="timeline-nav">
                                <p>@Shared.FactsExhibits</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">3</p>
                                        </div>
                                    </div>
                                </div>

                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Resolution")" class="stepper-link" id="resolution-nav">
                                <p>@Shared.MyClaims</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">4</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Clause")" class="stepper-link" id="end-nav">
                                <p>@Shared.EndOfDeclaration</p>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">5</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                    }
                    else
                    {
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Identification")" class="stepper-link" id="identification-nav">
                                <p>@Shared.Identification</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">1</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Declaration")" class="stepper-link" id="declaration-nav">
                                <p>@Shared.MyDeclaration</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">2</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Timeline")" class="stepper-link" id="timeline-nav">
                                <p>@Shared.FactsExhibits</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">3</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Resolution")" class="stepper-link" id="resolution-nav">
                                <p>@Shared.MyClaims</p>
                                <div class="line"></div>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">4</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a href="@Url.Content("~/Conflict/" + ViewBag.conflictId + "/Clause")" class="stepper-link" id="end-nav">
                                <p>@Shared.EndOfDeclaration</p>
                                <div class="stepper-wrapper">
                                    <div class="stepper-white-ring">
                                        <div class="stepper-content">
                                            <p class="stepper-content-text">5</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                    }

                    }
                </div>
            </div>
        </div>
    </div>
</div>
<div class="process-elt">
    @RenderBody()
</div>

@section Scripts{
    <script src="~/Scripts/jquery.form-validator.min.js" type="text/javascript"></script>
    @RenderSection("Scripts", required: false)
    <script type="text/javascript">
        $.validate({
            lang: 'fr'
        });
        var conflictId = '@(ViewBag.conflictId != null ? ViewBag.conflictId : 0)';
        var ui = '@(User.Identity.GetId())';
        $(document).ready(function () {
            //$("#process-nav").addClass('active');

            var resume = $(".fixed-resume");
            if (resume.length == 0) {
                resume = $(".fixed-resume-3");
            }
            var footer = $("#footer");
            var resumeTotalHeight = resume.outerHeight() + 100;// + resume.position().top;
            $("#main-content").css("min-height",resumeTotalHeight + "px");

        })

      

    </script>



}